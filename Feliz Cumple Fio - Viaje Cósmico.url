<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Cumple Fio - Viaje C√≥smico</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Space+Mono&display=swap" rel="stylesheet">
    <style>
        /* ESTILOS ORIGINALES (se mantienen igual) */
        body {
            font-family: 'Space Mono', monospace;
            background-color: #000;
            color: #ffffff;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background-image: url('https://images.unsplash.com/photo-1462331940025-496dfbfc7564?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-attachment: fixed;
            text-align: center;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            backdrop-filter: blur(8px);
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(65, 105, 225, 0.5);
            margin-top: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1, h2, h3 {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        h1 {
            font-size: 3.5em;
            margin-bottom: 30px;
            color: #ff69b4;
            text-shadow: 0 0 10px #ff69b4, 0 0 20px #ff69b4;
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 5px #ff69b4, 0 0 10px #ff69b4;
            }
            to {
                text-shadow: 0 0 15px #ff69b4, 0 0 30px #ff69b4, 0 0 45px #ff69b4;
            }
        }

        .buttons-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 40px;
        }

        .moon-button {
            background: linear-gradient(135deg, #1e1e3f, #3a3a7a);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
        }

        .moon-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(90, 90, 154, 0.6);
            background: linear-gradient(135deg, #3a3a7a, #5a5a9a);
        }

        .moon-button::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(45deg);
            opacity: 0;
            transition: opacity 0.5s;
        }

        .moon-button:hover::before {
            opacity: 1;
        }

        .moon-display {
            margin-top: 40px;
            padding: 30px;
            background-color: rgba(10, 10, 30, 0.8);
            border-radius: 15px;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .moon-drawing {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(173, 216, 230, 0.5);
        }

        .moon-phase {
            font-style: italic;
            color: #add8e6;
            font-size: 1.4em;
            margin: 10px 0;
        }

        .year {
            font-weight: bold;
            color: #ff69b4;
            font-size: 1.3em;
        }

        .moon-info {
            font-size: 1.2em;
            margin-top: 10px;
            line-height: 1.6;
        }

        footer {
            margin-top: 40px;
            padding: 20px;
            font-size: 0.9em;
            color: #aaa;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--duration) infinite ease-in-out;
        }

        @keyframes twinkle {
            0% { opacity: 0.2; }
            50% { opacity: 1; }
            100% { opacity: 0.2; }
        }

        .shooting-star {
            position: fixed;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, rgba(255,255,255,0), white);
            transform: rotate(45deg);
            animation: shooting var(--duration) linear infinite;
            z-index: -1;
        }

        @keyframes shooting {
            0% { 
                transform: translateX(-100px) translateY(-100px) rotate(45deg);
                opacity: 1;
            }
            100% { 
                transform: translateX(100vw) translateY(100vh) rotate(45deg);
                opacity: 0;
            }
        }

        .invitation {
            margin-top: 50px;
            padding: 30px;
            background-color: rgba(20, 20, 50, 0.8);
            border-radius: 15px;
            animation: pulse 4s infinite;
            border: 1px solid rgba(138, 43, 226, 0.3);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 10px rgba(138, 43, 226, 0.5); }
            50% { box-shadow: 0 0 30px rgba(138, 43, 226, 0.8); }
            100% { box-shadow: 0 0 10px rgba(138, 43, 226, 0.5); }
        }

        .invitation-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .invitation-button {
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
        }

        .yes-button {
            background: linear-gradient(135deg, #4CAF50, #8BC34A);
            color: white;
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
        }

        .yes-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.7);
        }

        .no-button {
            background: linear-gradient(135deg, #F44336, #FF5722);
            color: white;
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
        }

        .no-button:hover {
            transform: scale(0.9);
        }

        .hidden {
            display: none;
        }

        .extra-stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
            display: none;
        }

        .extra-star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: shooting var(--duration) linear forwards;
        }

        .universe-facts {
            margin-top: 50px;
            padding: 30px;
            background-color: rgba(10, 10, 30, 0.8);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .universe-facts h2 {
            color: #ff69b4;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .fact-item {
            margin-bottom: 20px;
            text-align: left;
            padding: 15px;
            background-color: rgba(30, 30, 60, 0.5);
            border-radius: 10px;
            border-left: 3px solid #ff69b4;
        }

        .fact-item h3 {
            color: #add8e6;
            margin-top: 0;
        }

        .space-calendar {
            margin-top: 50px;
            padding: 20px;
            background-color: rgba(10, 10, 30, 0.8);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .space-calendar h2 {
            color: #ff69b4;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        .calendar-item {
            background-color: rgba(30, 30, 60, 0.5);
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .calendar-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(90, 90, 154, 0.3);
        }

        .calendar-item h3 {
            color: #add8e6;
            margin-top: 0;
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #ff69b4;
            z-index: 1000;
            animation: popupFade 3s forwards;
            display: none;
        }

        @keyframes popupFade {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            20% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
        }

        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 1000;
        }

        .music-control i {
            font-size: 24px;
            color: white;
        }

        .supernova {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            animation: supernova 3s ease-out;
            display: none;
        }

        @keyframes supernova {
            0% { transform: scale(0.1); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }

        @media (max-width: 768px) {
            .buttons-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 2.5em;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* NUEVOS ESTILOS PARA EL BOT√ìN DE HONGO Y EFECTO */
        .mushroom-button {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #ff0000, #cc0000);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.7);
            transition: all 0.3s ease;
            border: none;
        }

        .mushroom-button::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 20px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
        }

        .mushroom-button::after {
            content: '';
            position: absolute;
            top: -8px;
            left: 25px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .mushroom-button:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.9);
        }

        /* Efecto alucin√≥geno temporal */
        .trippy-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,0,255,0.2) 0%, rgba(0,255,255,0.2) 50%, rgba(255,255,0,0.2) 100%);
            z-index: 999;
            pointer-events: none;
            opacity: 0;
            animation: trippyFade 5s forwards;
            mix-blend-mode: overlay;
        }

        @keyframes trippyFade {
            0% { opacity: 0; }
            10% { opacity: 1; filter: hue-rotate(0deg); }
            50% { opacity: 1; filter: hue-rotate(180deg); }
            90% { opacity: 1; filter: hue-rotate(360deg); }
            100% { opacity: 0; }
        }

        .monster-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Orbitron', sans-serif;
            font-size: 2em;
            color: #ff00ff;
            text-shadow: 0 0 10px #00ffff, 0 0 20px #ffff00;
            z-index: 1000;
            opacity: 0;
            animation: messageFade 5s forwards;
            text-align: center;
            white-space: nowrap;
        }

        @keyframes messageFade {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            20% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Bot√≥n de hongo -->
    <button class="mushroom-button" id="mushroomButton"></button>
    
    <!-- Resto del HTML original -->
    <div class="stars" id="stars"></div>
    <div id="shooting-stars-container"></div>
    <div class="extra-stars" id="extra-stars"></div>
    <div class="supernova" id="supernova"></div>
    
    <div class="popup" id="popup"></div>
    
    <audio id="space-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>
    
    <div class="music-control" id="music-control">
        <i class="fas fa-music"></i>
    </div>
    
    <div class="container">
        <h1>¬°Feliz Cumple Fio!</h1>
        <p>Un viaje c√≥smico a trav√©s de tus a√±os</p>
        
        <div class="buttons-container" id="buttons-container">
            <!-- Los botones se generar√°n con JavaScript -->
        </div>
        
        <div class="moon-display" id="moon-display">
            <p>Selecciona un a√±o para ver c√≥mo estaba la luna el 6 de julio de ese a√±o</p>
        </div>

        <div class="universe-facts">
            <h2>Curiosidades del Universo</h2>
            <div class="fact-item">
                <h3>El sonido del espacio</h3>
                <p>Aunque el espacio es esencialmente un vac√≠o y no puede transmitir sonido como lo hace el aire en la Tierra, los objetos como planetas y estrellas emiten ondas de radio que pueden ser convertidas en sonido. ¬°Activa la m√∫sica espacial abajo a la derecha!</p>
            </div>
            <div class="fact-item">
                <h3>Estrellas fugaces</h3>
                <p>Lo que llamamos "estrellas fugaces" en realidad son peque√±as part√≠culas de polvo y roca que entran en la atm√≥sfera terrestre a alta velocidad y se queman, creando ese hermoso destello de luz.</p>
            </div>
            <div class="fact-item">
                <h3>El tama√±o del Sol</h3>
                <p>El Sol contiene el 99.86% de toda la masa del Sistema Solar. Podr√≠as meter 1.3 millones de Tierras dentro de √©l. ¬°Y a√∫n as√≠ es solo una estrella mediana!</p>
            </div>
            <div class="fact-item">
                <h3>Viaje en el tiempo</h3>
                <p>Cuando miras las estrellas, en realidad est√°s viendo el pasado. La luz de algunas estrellas tarda miles o millones de a√±os en llegar a nosotros. ¬°Podr√≠as estar viendo estrellas que ya no existen!</p>
            </div>
        </div>

        <div class="space-calendar">
            <h2>Calendario Espacial 2025-2028</h2>
            <p>Eventos astron√≥micos importantes durante tu facultad</p>
            <div class="calendar-grid">
                <div class="calendar-item">
                    <h3>2025</h3>
                    <p>‚Ä¢ Eclipse total de Luna (14 marzo)</p>
                    <p>‚Ä¢ Lluvia de estrellas Perseidas (12 agosto)</p>
                    <p>‚Ä¢ Venus y J√∫piter en conjunci√≥n (22 nov)</p>
                </div>
                <div class="calendar-item">
                    <h3>2026</h3>
                    <p>‚Ä¢ Eclipse total de Sol (12 agosto)</p>
                    <p>‚Ä¢ Marte en oposici√≥n (19 feb)</p>
                    <p>‚Ä¢ Superluna (3 julio)</p>
                </div>
                <div class="calendar-item">
                    <h3>2027</h3>
                    <p>‚Ä¢ Cometa visible a simple vista (junio)</p>
                    <p>‚Ä¢ Eclipse lunar total (7 agosto)</p>
                    <p>‚Ä¢ Saturno en oposici√≥n (15 ago)</p>
                </div>
                <div class="calendar-item">
                    <h3>2028</h3>
                    <p>‚Ä¢ Eclipse total de Sol (22 julio)</p>
                    <p>‚Ä¢ Lluvia de estrellas Gem√≠nidas (14 dic)</p>
                    <p>‚Ä¢ Venus m√°s brillante del a√±o (9 sep)</p>
                </div>
            </div>
        </div>

        <div class="invitation">
            <h2>¬°Invitaci√≥n C√≥smica!</h2>
            <p>¬øQu√© tal si un d√≠a nos escapamos a ver las estrellas? (no es cita, solo dos nerds admirando el cosmos) üåå</p>
            <div class="invitation-buttons">
                <button class="invitation-button yes-button" id="yes-button">¬°Obvio que s√≠!</button>
                <button class="invitation-button no-button" id="no-button">No, lindo</button>
            </div>
            <div id="invitation-response" class="hidden"></div>
        </div>
    </div>
    
    <footer>
        Creado con ‚ù§Ô∏è y polvo de estrellas para Fio - 2025
    </footer>

    <script>
        // Crear estrellas animadas
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                const size = Math.random() * 3 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.setProperty('--duration', `${Math.random() * 3 + 2}s`);
                star.style.animationDelay = `${Math.random() * 5}s`;
                star.style.opacity = Math.random() * 0.8 + 0.2;
                
                starsContainer.appendChild(star);
            }
        }
        
        // Crear estrellas fugaces constantes
        function createConstantShootingStars() {
            const container = document.getElementById('shooting-stars-container');
            
            function createShootingStar() {
                const star = document.createElement('div');
                star.classList.add('shooting-star');
                
                star.style.top = `${Math.random() * 100}%`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.setProperty('--duration', `${Math.random() * 3 + 2}s`);
                
                container.appendChild(star);
                
                // Eliminar despu√©s de la animaci√≥n
                setTimeout(() => {
                    star.remove();
                }, 3000);
            }
            
            // Crear una estrella fugaz cada 1-3 segundos
            setInterval(createShootingStar, 1000);
            
            // Crear varias al inicio
            for (let i = 0; i < 5; i++) {
                setTimeout(createShootingStar, Math.random() * 3000);
            }
        }
        
        // Datos de las fases lunares para cada 6 de julio (2005-2025)
        const moonPhases = [
            { year: 2005, phase: "Luna Creciente", description: "El 6 de julio de 2005 la luna estaba en su fase creciente, mostrando exactamente la mitad iluminada. Perfecta para pedir deseos." },
            { year: 2006, phase: "Luna Llena", description: "¬°Luna llena el 6 de julio de 2006! El disco lunar estaba completamente iluminado. ¬øTe acuerdas de mirarla?" },
            { year: 2007, phase: "Luna Menguante", description: "El 6 de julio de 2007 la luna estaba en su fase menguante, mostrando la otra mitad iluminada. Misteriosa y hermosa." },
            { year: 2008, phase: "Luna Nueva", description: "Luna nueva el 6 de julio de 2008, el comienzo del ciclo lunar. La luna no era visible en el cielo nocturno, pero estaba ah√≠." },
            { year: 2009, phase: "Luna Creciente", description: "Una delgada luna creciente comenzaba a aparecer en el cielo el 6 de julio de 2009. Peque√±a pero prometedora." },
            { year: 2010, phase: "Cuarto Creciente", description: "El 6 de julio de 2010 la luna mostraba exactamente la mitad derecha iluminada. Ideal para observaci√≥n con telescopio." },
            { year: 2011, phase: "Gibosa Creciente", description: "La luna estaba casi llena el 6 de julio de 2011, con m√°s de la mitad iluminada pero no completamente. Brillante en el cielo." },
            { year: 2012, phase: "Luna Llena", description: "Otra luna llena brillaba en el cielo el 6 de julio de 2012. ¬øQu√© estabas haciendo ese d√≠a bajo su luz?" },
            { year: 2013, phase: "Gibosa Menguante", description: "El 6 de julio de 2013 la luna comenzaba a disminuir su iluminaci√≥n despu√©s de estar llena. Ciclos que contin√∫an." },
            { year: 2014, phase: "Cuarto Menguante", description: "La luna mostraba exactamente la mitad izquierda iluminada el 6 de julio de 2014. Hermosa en su simetr√≠a." },
            { year: 2015, phase: "Luna Menguante", description: "Una delgada luna menguante era visible antes del amanecer el 6 de julio de 2015. ¬øTe levantaste a verla?" },
            { year: 2016, phase: "Luna Nueva", description: "De nuevo luna nueva el 6 de julio de 2016, un nuevo ciclo comenzaba en tu cumplea√±os. Renacimiento c√≥smico." },
            { year: 2017, phase: "Luna Creciente", description: "La luna creciente reaparec√≠a en el cielo vespertino el 6 de julio de 2017. Peque√±a joya en el cielo." },
            { year: 2018, phase: "Cuarto Creciente", description: "La mitad derecha de la luna brillaba en el cielo el 6 de julio de 2018. Perfecta para fotos." },
            { year: 2019, phase: "Gibosa Creciente", description: "La luna estaba casi llena el 6 de julio de 2019, iluminando las noches de julio. ¬øRecuerdas su luz?" },
            { year: 2020, phase: "Luna Llena", description: "Una hermosa luna llena iluminaba tu cumplea√±os el 6 de julio de 2020. En tiempos dif√≠ciles, segu√≠a ah√≠." },
            { year: 2021, phase: "Gibosa Menguante", description: "El 6 de julio de 2021 la luna comenzaba a menguar despu√©s de la plenitud. Todo en el universo tiene sus ciclos." },
            { year: 2022, phase: "Cuarto Menguante", description: "La mitad izquierda de la luna era visible en el cielo el 6 de julio de 2022. Misteriosa y evocadora." },
            { year: 2023, phase: "Luna Menguante", description: "Una fina luna menguante aparec√≠a antes del amanecer el 6 de julio de 2023. ¬øLa viste mientras te preparabas para el d√≠a?" },
            { year: 2024, phase: "Luna Nueva", description: "Luna nueva el 6 de julio de 2024, un nuevo ciclo lunar comenzaba contigo. Nuevos comienzos." },
            { year: 2025, phase: "Luna Creciente", description: "La luna creciente volver√° a aparecer el 6 de julio de 2025, completando el ciclo. ¬øQu√© te deparar√° este a√±o?" }
        ];
        
        // Crear botones para cada a√±o
        function createButtons() {
            const container = document.getElementById('buttons-container');
            
            moonPhases.forEach(moon => {
                const button = document.createElement('button');
                button.classList.add('moon-button');
                button.textContent = moon.year;
                
                button.addEventListener('click', () => showMoonData(moon));
                
                container.appendChild(button);
            });
        }
        
        // Dibujar la fase lunar
        function drawMoonPhase(phase, container) {
            const moon = document.createElement('div');
            moon.className = 'moon-drawing';
            
            // Crear elementos para las diferentes fases
            const moonBase = document.createElement('div');
            moonBase.style.position = 'absolute';
            moonBase.style.width = '100%';
            moonBase.style.height = '100%';
            moonBase.style.borderRadius = '50%';
            moonBase.style.backgroundColor = '#f5f5f5';
            moonBase.style.boxShadow = 'inset 0 0 20px rgba(0,0,0,0.5)';
            
            const moonShadow = document.createElement('div');
            moonShadow.style.position = 'absolute';
            moonShadow.style.width = '100%';
            moonShadow.style.height = '100%';
            moonShadow.style.borderRadius = '50%';
            moonShadow.style.backgroundColor = '#0a0a2a';
            moonShadow.style.transition = 'all 0.5s ease';
            
            // Ajustar seg√∫n la fase
            if (phase.includes("Nueva")) {
                moonShadow.style.boxShadow = 'none';
                moonShadow.style.backgroundColor = '#0a0a2a';
            } 
            else if (phase.includes("Creciente") && !phase.includes("Gibosa")) {
                moonShadow.style.clipPath = 'polygon(0 0, 50% 0, 50% 100%, 0 100%)';
            } 
            else if (phase.includes("Gibosa Creciente")) {
                moonShadow.style.clipPath = 'polygon(0 0, 25% 0, 25% 100%, 0 100%)';
            } 
            else if (phase.includes("Llena")) {
                moonShadow.style.boxShadow = 'none';
                moonShadow.style.backgroundColor = 'transparent';
            } 
            else if (phase.includes("Gibosa Menguante")) {
                moonShadow.style.clipPath = 'polygon(75% 0, 100% 0, 100% 100%, 75% 100%)';
            } 
            else if (phase.includes("Menguante") && !phase.includes("Gibosa")) {
                moonShadow.style.clipPath = 'polygon(50% 0, 100% 0, 100% 100%, 50% 100%)';
            }
            
            moon.appendChild(moonBase);
            moon.appendChild(moonShadow);
            container.appendChild(moon);
        }
        
        // Mostrar los datos de la luna para el a√±o seleccionado
        function showMoonData(moonData) {
            const moonDisplay = document.getElementById('moon-display');
            
            moonDisplay.innerHTML = `
                <h2>6 de Julio <span class="year">${moonData.year}</span></h2>
                <p class="moon-phase">${moonData.phase}</p>
            `;
            
            drawMoonPhase(moonData.phase, moonDisplay);
            
            const info = document.createElement('p');
            info.className = 'moon-info';
            info.textContent = moonData.description;
            moonDisplay.appendChild(info);
            
            // Efecto de scroll suave
            moonDisplay.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Crear estrellas fugaces cuando dice que S√≠
        function createShootingStars() {
            const container = document.getElementById('extra-stars');
            container.style.display = 'block';
            container.innerHTML = '';
            
            // Crear muchas estrellas fugaces
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.classList.add('extra-star');
                
                // Tama√±o aleatorio
                const size = Math.random() * 4 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // Posici√≥n inicial aleatoria
                const startX = Math.random() * 100;
                const startY = Math.random() * 100;
                star.style.left = `${startX}%`;
                star.style.top = `${startY}%`;
                
                // Duraci√≥n y delay aleatorios
                const duration = Math.random() * 3 + 2;
                star.style.setProperty('--duration', `${duration}s`);
                star.style.animationDelay = `${Math.random() * 5}s`;
                
                // Color aleatorio
                const colors = ['#ffffff', '#ff69b4', '#add8e6', '#ffff00'];
                star.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                container.appendChild(star);
            }
            
            // Crear efecto de confeti
            createConfetti();
            
            // Crear efecto supernova
            createSupernova();
        }
        
        function createConfetti() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ff69b4', '#add8e6'];
            
            for (let i = 0; i < 200; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                
                // Estilo aleatorio
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = `${Math.random() * 10 + 5}px`;
                confetti.style.height = `${Math.random() * 10 + 5}px`;
                confetti.style.animationDuration = `${Math.random() * 3 + 2}s`;
                confetti.style.animationDelay = `${Math.random() * 2}s`;
                
                // Forma aleatoria (c√≠rculo o cuadrado)
                if (Math.random() > 0.5) {
                    confetti.style.borderRadius = '0';
                }
                
                document.body.appendChild(confetti);
                
                // Eliminar despu√©s de la animaci√≥n
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }
        
        function createSupernova() {
            const supernova = document.getElementById('supernova');
            supernova.style.display = 'block';
            supernova.style.opacity = '1';
            supernova.style.animation = 'none';
            void supernova.offsetWidth; // Trigger reflow
            supernova.style.animation = 'supernova 3s ease-out';
            
            setTimeout(() => {
                supernova.style.display = 'none';
            }, 3000);
        }
        
        // Control de m√∫sica
        function setupMusicControl() {
            const music = document.getElementById('space-music');
            const control = document.getElementById('music-control');
            let isPlaying = false;
            
            control.addEventListener('click', function() {
                if (isPlaying) {
                    music.pause();
                    control.innerHTML = '<i class="fas fa-music"></i>';
                } else {
                    music.play();
                    control.innerHTML = '<i class="fas fa-pause"></i>';
                }
                isPlaying = !isPlaying;
            });
        }
        
        // Mostrar popups aleatorios
        function showRandomPopups() {
            const messages = [
                "El JOA es hermoso",
                "JOA = alien√≠gena",
                "Las estrellas te saludan",
                "Eres polvo de estrellas",
                "El cosmos te observa",
                "Fio = constelaci√≥n humana",
                "Tu brillo supera a las estrellas",
                "El universo conspira a tu favor"
            ];
            
            const popup = document.getElementById('popup');
            
            function showPopup() {
                const message = messages[Math.floor(Math.random() * messages.length)];
                popup.textContent = message;
                popup.style.display = 'block';
                
                setTimeout(() => {
                    popup.style.display = 'none';
                }, 3000);
                
                // Mostrar siguiente popup en 10-30 segundos
                setTimeout(showPopup, Math.random() * 20000 + 10000);
            }
            
            // Mostrar primer popup despu√©s de 5 segundos
            setTimeout(showPopup, 5000);
        }
        
        // Efecto del bot√≥n de hongo
        function setupMushroomButton() {
            const mushroomBtn = document.getElementById('mushroomButton');
            
            mushroomBtn.addEventListener('click', function() {
                // Crear efecto visual alucin√≥geno
                const trippyEffect = document.createElement('div');
                trippyEffect.className = 'trippy-effect';
                document.body.appendChild(trippyEffect);
                
                // Crear mensaje del monstruo
                const monsterMessage = document.createElement('div');
                monsterMessage.className = 'monster-message';
                monsterMessage.textContent = '¬°LO QUE QUIERAS HACER YO LO QUIERO HACER!';
                document.body.appendChild(monsterMessage);
                
                // Eliminar elementos despu√©s de 5 segundos
                setTimeout(() => {
                    trippyEffect.remove();
                    monsterMessage.remove();
                }, 5000);
            });
        }
        
        // Inicializar la p√°gina
        window.onload = function() {
            createStars();
            createConstantShootingStars();
            createButtons();
            setupMusicControl();
            showRandomPopups();
            setupMushroomButton();
            
            // Manejar el bot√≥n de S√≠
            document.getElementById('yes-button').addEventListener('click', function() {
                document.getElementById('invitation-response').innerHTML = `
                    <p style="margin-top: 20px; font-size: 1.5em; color: #4CAF50; font-weight: bold;">¬°Ya sab√≠a, ja! üåü‚ú®üí•</p>
                    <p style="font-size: 1.2em;">Prep√°rate para el mejor viaje estelar (con snacks incluidos)</p>
                `;
                document.getElementById('invitation-response').classList.remove('hidden');
                createShootingStars();
            });
            
            // Manejar el bot√≥n de No
            document.getElementById('no-button').addEventListener('click', function() {
                document.getElementById('invitation-response').innerHTML = `
                    <p style="margin-top: 20px; font-size: 1.3em; color: #F44336;">Bueno... cuando cambies de opini√≥n sabes d√≥nde encontrarme üöÄ</p>
                `;
                document.getElementById('invitation-response').classList.remove('hidden');
            });
        };
    </script>
</body>
</html>
